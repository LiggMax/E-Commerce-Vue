<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>系统监控</title>
    <style>
        body { font-family: Arial; background: #f5f5f5; padding: 30px; }
        .card { background: white; padding: 20px; border-radius: 10px; width: 350px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .title { font-weight: bold; margin-bottom: 10px; font-size: 20px; }
        .item { margin-bottom: 10px; }
    </style>
</head>
<body>
<div class="card">
    <div class="title">系统实时信息</div>
    <div class="item">CPU 使用率: <span id="cpu"></span>%</div>
    <div class="item">内存: <span id="memory"></span></div>
    <div class="item">磁盘: <span id="disk"></span></div>
</div>

<script>
    const evtSource = new EventSource("http://localhost:8899/api/admin/system");
    evtSource.addEventListener("system-info", event => {
        const data = JSON.parse(event.data);
        document.getElementById("cpu").textContent = data.cpuUsage.toFixed(2);
        document.getElementById("memory").textContent = `${data.usedMemory} / ${data.totalMemory} GB`;
        document.getElementById("disk").textContent = `${data.usedDisk} / ${data.totalDisk} GB`;
    });
</script>
</body>
</html>
